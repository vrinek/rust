<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <title>Rust Documentation</title>

    <link rel="stylesheet" type="text/css" href="rust-book.css">

    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    <div id="nav">
                <button id="toggle-nav">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="bar"></span>
                  <span class="bar"></span>
                  <span class="bar"></span>
                </button>
              </div>
<div id='toc' class='mobile-hidden'>
<ul class='chapter'>
<li><a href='README.html'><b>1.</b> Introduction</a>
</li>
<li><a href='basic.html'><b>2.</b> I: The Basics</a>
<ul class='section'>
<li><a href='installing-rust.html'><b>2.1.</b> Installing Rust</a>
</li>
<li><a href='hello-world.html'><b>2.2.</b> Hello, world!</a>
</li>
<li><a href='hello-cargo.html'><b>2.3.</b> Hello, Cargo!</a>
</li>
<li><a href='variable-bindings.html'><b>2.4.</b> Variable Bindings</a>
</li>
<li><a href='if.html'><b>2.5.</b> If</a>
</li>
<li><a href='functions.html'><b>2.6.</b> Functions</a>
</li>
<li><a href='comments.html'><b>2.7.</b> Comments</a>
</li>
<li><a href='compound-data-types.html'><b>2.8.</b> Compound Data Types</a>
</li>
<li><a href='match.html'><b>2.9.</b> Match</a>
</li>
<li><a href='looping.html'><b>2.10.</b> Looping</a>
</li>
<li><a href='strings.html'><b>2.11.</b> Strings</a>
</li>
<li><a href='arrays-vectors-and-slices.html'><b>2.12.</b> Arrays, Vectors, and Slices</a>
</li>
<li><a href='standard-input.html'><b>2.13.</b> Standard Input</a>
</li>
<li><a href='guessing-game.html'><b>2.14.</b> Guessing Game</a>
</li>
</ul>
</li>
<li><a href='intermediate.html'><b>3.</b> II: Intermediate Rust</a>
<ul class='section'>
<li><a href='more-strings.html'><b>3.1.</b> More Strings</a>
</li>
<li><a href='crates-and-modules.html'><b>3.2.</b> Crates and Modules</a>
</li>
<li><a href='testing.html'><b>3.3.</b> Testing</a>
</li>
<li><a href='pointers.html'><b>3.4.</b> Pointers</a>
</li>
<li><a href='ownership.html'><b>3.5.</b> Ownership</a>
</li>
<li><a href='patterns.html'><b>3.6.</b> Patterns</a>
</li>
<li><a href='method-syntax.html'><b>3.7.</b> Method Syntax</a>
</li>
<li><a href='closures.html'><b>3.8.</b> Closures</a>
</li>
<li><a href='iterators.html'><b>3.9.</b> Iterators</a>
</li>
<li><a href='generics.html'><b>3.10.</b> Generics</a>
</li>
<li><a href='traits.html'><b>3.11.</b> Traits</a>
</li>
<li><a href='threads.html'><b>3.12.</b> Threads</a>
</li>
<li><a href='error-handling.html'><b>3.13.</b> Error Handling</a>
</li>
<li><a href='documentation.html'><b>3.14.</b> Documentation</a>
</li>
</ul>
</li>
<li><a href='advanced.html'><b>4.</b> III: Advanced Topics</a>
<ul class='section'>
<li><a href='ffi.html'><b>4.1.</b> FFI</a>
</li>
<li><a href='unsafe.html'><b>4.2.</b> Unsafe Code</a>
</li>
<li><a href='macros.html'><b>4.3.</b> Macros</a>
</li>
<li><a href='plugins.html'><b>4.4.</b> Compiler Plugins</a>
</li>
</ul>
</li>
<li><a href='conclusion.html'><b>5.</b> Conclusion</a>
</li>
</ul>
</div>
<div id='page-wrapper'>
<div id='page'>


    <h1 class="title">Rust Documentation</h1>
    <p><code>rustdoc</code> is the built-in tool for generating documentation. It integrates
with the compiler to provide accurate hyperlinking between usage of types and
their documentation. Furthermore, by not using a separate parser, it will
never reject your valid Rust code.</p>

<h1 id="creating-documentation" class='section-header'><a
                           href="#creating-documentation">Creating Documentation</a></h1>
<p>Documenting Rust APIs is quite simple. To document a given item, we have &quot;doc
comments&quot;:</p>
<pre id='rust-example-rendered' class='rust '>
<span class='comment'>// the &quot;link&quot; crate attribute is currently required for rustdoc, but normally</span>
<span class='comment'>// isn&#39;t needed.</span>
<span class='attribute'>#<span class='op'>!</span>[<span class='ident'>crate_id</span> <span class='op'>=</span> <span class='string'>&quot;universe&quot;</span>]</span>
<span class='attribute'>#<span class='op'>!</span>[<span class='ident'>crate_type</span><span class='op'>=</span><span class='string'>&quot;lib&quot;</span>]</span>

<span class='doccomment'>//! Tools for dealing with universes (this is a doc comment, and is shown on</span>
<span class='doccomment'>//! the crate index page. The ! makes it apply to the parent of the comment,</span>
<span class='doccomment'>//! rather than what follows).</span>

<span class='doccomment'>/// Widgets are very common (this is a doc comment, and will show up on</span>
<span class='doccomment'>/// Widget&#39;s documentation).</span>
<span class='kw'>pub</span> <span class='kw'>struct</span> <span class='ident'>Widget</span> {
    <span class='doccomment'>/// All widgets have a purpose (this is a doc comment, and will show up</span>
    <span class='doccomment'>/// the field&#39;s documentation).</span>
    <span class='ident'>purpose</span>: <span class='ident'>String</span>,
    <span class='doccomment'>/// Humans are not allowed to understand some widgets</span>
    <span class='ident'>understandable</span>: <span class='ident'>bool</span>
}

<span class='kw'>pub</span> <span class='kw'>fn</span> <span class='ident'>recalibrate</span>() {
    <span class='doccomment'>//! Recalibrate a pesky universe (this is also a doc comment, like above,</span>
    <span class='doccomment'>//! the documentation will be applied to the *parent* item, so</span>
    <span class='doccomment'>//! `recalibrate`).</span>
    <span class='comment'>/* ... */</span>
}
</pre>

<p>Documentation can also be controlled via the <code>doc</code> attribute on items. This is
implicitly done by the compiler when using the above form of doc comments
(converting the slash-based comments to <code>#[doc]</code> attributes).</p>
<pre id='rust-example-rendered' class='rust '>
<span class='attribute'>#[<span class='ident'>doc</span> <span class='op'>=</span> <span class='string'>&quot;
Calculates the factorial of a number.

Given the input integer `n`, this function will calculate `n!` and return it.
&quot;</span>]</span>
<span class='kw'>pub</span> <span class='kw'>fn</span> <span class='ident'>factorial</span>(<span class='ident'>n</span>: <span class='ident'>int</span>) <span class='op'>-&gt;</span> <span class='ident'>int</span> { <span class='kw'>if</span> <span class='ident'>n</span> <span class='op'>&lt;</span> <span class='number'>2</span> {<span class='number'>1</span>} <span class='kw'>else</span> {<span class='ident'>n</span> <span class='op'>*</span> <span class='ident'>factorial</span>(<span class='ident'>n</span> <span class='op'>-</span> <span class='number'>1</span>)} }
</pre>

<p>The <code>doc</code> attribute can also be used to control how rustdoc emits documentation
in some cases.</p>
<pre id='rust-example-rendered' class='rust '>
<span class='comment'>// Rustdoc will inline documentation of a `pub use` into this crate when the</span>
<span class='comment'>// `pub use` reaches across crates, but this behavior can also be disabled.</span>
<span class='attribute'>#[<span class='ident'>doc</span>(<span class='ident'>no_inline</span>)]</span>
<span class='kw'>pub</span> <span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>option</span>::<span class='prelude-ty'>Option</span>;
</pre>

<p>Doc comments are markdown, and are currently parsed with the
<a href="https://github.com/hoedown/hoedown">hoedown</a> library. rustdoc does not yet do any fanciness such as
referencing other items inline, like javadoc&#39;s <code>@see</code>. One exception to this
is that the first paragraph will be used as the &quot;summary&quot; of an item in the
generated documentation:</p>
<pre id='rust-example-rendered' class='rust '>
<span class='doccomment'>/// A whizbang. Does stuff. (this line is the summary)</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Whizbangs are ...</span>
<span class='kw'>struct</span> <span class='ident'>Whizbang</span>;
</pre>

<p>To generate the docs, run <code>rustdoc universe.rs</code>. By default, it generates a
directory called <code>doc</code>, with the documentation for <code>universe</code> being in
<code>doc/universe/index.html</code>. If you are using other crates with <code>extern crate</code>,
rustdoc will even link to them when you use their types, as long as their
documentation has already been generated by a previous run of rustdoc, or the
crate advertises that its documentation is hosted at a given URL.</p>

<p>The generated output can be controlled with the <code>doc</code> crate attribute, which
is how the above advertisement works. An example from the <code>libstd</code>
documentation:</p>
<pre id='rust-example-rendered' class='rust '>
<span class='attribute'>#[<span class='ident'>doc</span>(<span class='ident'>html_logo_url</span> <span class='op'>=</span> <span class='string'>&quot;http://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png&quot;</span>,
      <span class='ident'>html_favicon_url</span> <span class='op'>=</span> <span class='string'>&quot;http://www.rust-lang.org/favicon.ico&quot;</span>,
      <span class='ident'>html_root_url</span> <span class='op'>=</span> <span class='string'>&quot;http://doc.rust-lang.org/&quot;</span>)]</span>;
</pre>

<p>The <code>html_root_url</code> is the prefix that rustdoc will apply to any references to
that crate&#39;s types etc.</p>

<p>rustdoc can also generate JSON, for consumption by other tools, with
<code>rustdoc --output-format json</code>, and also consume already-generated JSON with
<code>rustdoc --input-format json</code>.</p>

<p>rustdoc also supports personalizing the output from crates&#39; documentation,
similar to markdown options.</p>

<ul>
<li><code>--html-in-header FILE</code>: includes the contents of <code>FILE</code> at the
end of the <code>&lt;head&gt;...&lt;/head&gt;</code> section.</li>
<li><code>--html-before-content FILE</code>: includes the contents of <code>FILE</code>
directly after <code>&lt;body&gt;</code>, before the rendered content (including the
search bar).</li>
<li><code>--html-after-content FILE</code>: includes the contents of <code>FILE</code>
after all the rendered content.</li>
</ul>

<h1 id="using-the-documentation" class='section-header'><a
                           href="#using-the-documentation">Using the Documentation</a></h1>
<p>The web pages generated by rustdoc present the same logical hierarchy that one
writes a library with. Every kind of item (function, struct, etc) has its own
color, and one can always click on a colored type to jump to its
documentation. There is a search bar at the top, which is powered by some
JavaScript and a statically-generated search index. No special web server is
required for the search.</p>

<h1 id="testing-the-documentation" class='section-header'><a
                           href="#testing-the-documentation">Testing the Documentation</a></h1>
<p><code>rustdoc</code> has support for testing code examples which appear in the
documentation. This is helpful for keeping code examples up to date with the
source code.</p>

<p>To test documentation, the <code>--test</code> argument is passed to rustdoc:</p>

<pre><code class="language-{.sh}">rustdoc --test crate.rs
</code></pre>

<h2 id="defining-tests" class='section-header'><a
                           href="#defining-tests">Defining tests</a></h2>
<p>Rust documentation currently uses the markdown format, and rustdoc treats all
code blocks as testable-by-default unless they carry a language tag of another
language. In order to not run a test over a block of code, the <code>ignore</code> string
can be added to the three-backtick form of markdown code block.</p>

<pre><code class="language-md">```
// This is a testable code block
```

```rust{.example}
// This is rust and also testable
```

```ignore
// This is not a testable code block
```

    // This is a testable code block (4-space indent)

```sh
# this is shell code and not tested
```
</code></pre>

<p>You can specify that the test&#39;s execution should fail with the <code>should_fail</code>
directive.</p>

<pre><code class="language-md">```should_fail
// This code block is expected to generate a panic when run
```
</code></pre>

<p>You can specify that the code block should be compiled but not run with the
<code>no_run</code> directive.</p>

<pre><code class="language-md">```no_run
// This code will be compiled but not executed
```
</code></pre>

<p>Lastly, you can specify that a code block be compiled as if <code>--test</code>
were passed to the compiler using the <code>test_harness</code> directive.</p>

<pre><code class="language-md">```test_harness
#[test]
fn foo() {
    panic!(&quot;oops! (will run &amp; register as a failed test)&quot;)
}
```
</code></pre>

<p>Rustdoc also supplies some extra sugar for helping with some tedious
documentation examples. If a line is prefixed with <code>#</code>, then the line
will not show up in the HTML documentation, but it will be used when
testing the code block (NB. the space after the <code>#</code> is required, so
that one can still write things like <code>#[derive(Eq)]</code>).</p>

<pre><code class="language-md">```
# /!\ The three following lines are comments, which are usually stripped off by
# the doc-generating tool.  In order to display them anyway in this particular
# case, the character following the leading &#39;#&#39; is not a usual space like in
# these first five lines but a non breakable one.
# // showing &#39;fib&#39; in this documentation would just be tedious and detracts from
# // what&#39;s actually being documented.
# fn fib(n: int) { n + 2 }

spawn(move || { fib(200); })
```
</code></pre>

<p>The documentation online would look like <code>spawn(move || { fib(200); })</code>, but when
testing this code, the <code>fib</code> function will be included (so it can compile).</p>

<p>Rustdoc will automatically add a <code>main()</code> wrapper around your code, and in the right
place. For example:</p>
<pre id='rust-example-rendered' class='rust '>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// use std::rc::Rc;</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// let five = Rc::new(5);</span>
<span class='doccomment'>/// ```</span>
</pre>

<p>This will end up testing:</p>
<pre id='rust-example-rendered' class='rust '>
<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>rc</span>::<span class='ident'>Rc</span>;
    <span class='kw'>let</span> <span class='ident'>five</span> <span class='op'>=</span> <span class='ident'>Rc</span>::<span class='ident'>new</span>(<span class='number'>5</span>);
}
</pre>

<p>Here&#39;s the full algorithm:</p>

<ol>
<li>Given a code block, if it does not contain <code>fn main</code>, it is wrapped in <code>fn main() { your_code }</code></li>
<li>Given that result, if it contains no <code>extern crate</code> directives but it also
contains the name of the crate being tested, then <code>extern crate &lt;name&gt;</code> is
injected at the top.</li>
<li>Some common <code>allow</code> attributes are added for documentation examples at the top.</li>
</ol>

<h2 id="running-tests-(advanced)" class='section-header'><a
                           href="#running-tests-(advanced)">Running tests (advanced)</a></h2>
<p>Running tests often requires some special configuration to filter tests, find
libraries, or try running ignored examples. The testing framework that rustdoc
uses is built on crate <code>test</code>, which is also used when you compile crates with
rustc&#39;s <code>--test</code> flag. Extra arguments can be passed to rustdoc&#39;s test harness
with the <code>--test-args</code> flag.</p>

<pre><code class="language-console"># Only run tests containing &#39;foo&#39; in their name
$ rustdoc --test lib.rs --test-args &#39;foo&#39;

# See what&#39;s possible when running tests
$ rustdoc --test lib.rs --test-args &#39;--help&#39;
</code></pre>

<p>When testing a library, code examples will often show how functions are used,
and this code often requires <code>use</code>-ing paths from the crate. To accommodate this,
rustdoc will implicitly add <code>extern crate &lt;crate&gt;;</code> where <code>&lt;crate&gt;</code> is the name of
the crate being tested to the top of each code example. This means that rustdoc
must be able to find a compiled version of the library crate being tested. Extra
search paths may be added via the <code>-L</code> flag to <code>rustdoc</code>.</p>

<h1 id="standalone-markdown-files" class='section-header'><a
                           href="#standalone-markdown-files">Standalone Markdown files</a></h1>
<p>As well as Rust crates, rustdoc supports rendering pure Markdown files
into HTML and testing the code snippets from them. A Markdown file is
detected by a <code>.md</code> or <code>.markdown</code> extension.</p>

<p>There are 4 options to modify the output that Rustdoc creates.</p>

<ul>
<li><code>--markdown-css PATH</code>: adds a <code>&lt;link rel=&quot;stylesheet&quot;&gt;</code> tag pointing to <code>PATH</code>.</li>
<li><code>--html-in-header FILE</code>: includes the contents of <code>FILE</code> at the
end of the <code>&lt;head&gt;...&lt;/head&gt;</code> section.</li>
<li><code>--html-before-content FILE</code>: includes the contents of <code>FILE</code>
directly after <code>&lt;body&gt;</code>, before the rendered content (including the
title).</li>
<li><code>--html-after-content FILE</code>: includes the contents of <code>FILE</code>
directly before <code>&lt;/body&gt;</code>, after all the rendered content.</li>
</ul>

<p>All of these can be specified multiple times, and they are output in
the order in which they are specified. The first line of the file being rendered must
be the title, prefixed with <code>%</code> (e.g. this page has <code>% Rust
Documentation</code> on the first line).</p>

<p>Like with a Rust crate, the <code>--test</code> argument will run the code
examples to check they compile, and obeys any <code>--test-args</code> flags. The
tests are named after the last <code>#</code> heading.</p>

    <script type="text/javascript">
        window.playgroundUrl = "";
    </script>
    
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
  document.getElementById("toggle-nav").onclick = toggleNav;
  function toggleNav() {
    var toc = document.getElementById("toc");
    var pagewrapper = document.getElementById("page-wrapper");
    toggleClass(toc, "mobile-hidden");
    toggleClass(pagewrapper, "mobile-hidden");
  };

  function toggleClass(el, className) {
     // from http://youmightnotneedjquery.com/
     if (el.classList) {
       el.classList.toggle(className);
     } else {
       var classes = el.className.split(' ');
       var existingIndex = classes.indexOf(className);

       if (existingIndex >= 0) {
         classes.splice(existingIndex, 1);
       } else {
         classes.push(className);
       }

       el.className = classes.join(' ');
     }
  }

  // The below code is used to add prev and next navigation links to the bottom
  // of each of the sections.
  // It works by extracting the current page based on the url and iterates over
  // the menu links until it finds the menu item for the current page. We then
  // create a copy of the preceeding and following menu links and add the
  // correct css class and insert them into the bottom of the page.
  var toc = document.getElementById('toc').getElementsByTagName('a');
  var href = document.location.pathname.split('/').pop();
  if (href === 'index.html' || href === '') {
    href = 'README.html';
  }

  for (var i = 0; i < toc.length; i++) {
    if (toc[i].attributes['href'].value === href) {
      var nav = document.createElement('p');
      if (i > 0) {
        var prevNode = toc[i-1].cloneNode(true);
        prevNode.className = 'left';
        nav.appendChild(prevNode);
      }
      if (i < toc.length - 1) {
        var nextNode = toc[i+1].cloneNode(true);
        nextNode.className = 'right';
        nav.appendChild(nextNode);
      }
      document.getElementById('page').appendChild(nav);
      break;
    }
  }

});
</script>
</div></div>


</body>
</html>